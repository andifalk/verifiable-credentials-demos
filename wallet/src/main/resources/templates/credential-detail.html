<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="'Credential: ' + ${credentialId}">Credential detail</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
<div th:replace="~{fragments :: header}"></div>

<div style="max-width:1000px;margin:20px auto;">
    <h2 th:text="'Credential detail: ' + ${credentialId}">Credential detail</h2>

    <div th:if="${offer == null}">
        <p>No issuer information available.</p>
    </div>

    <div th:if="${offer != null}">
        <p><strong>Issuer:</strong> <span th:text="${offer.credentialIssuer}"></span></p>

        <div th:if="${configuration != null}" style="border:1px solid #e2e8f0;padding:12px;border-radius:6px;background:white;">
            <h3 th:text="${configuration.display?.name} ?: ${credentialId}">Credential name</h3>
            <p th:if="${configuration.display?.description}" th:text="${configuration.display?.description}">Description</p>
            <div th:if="${configuration.display?.logo}">
                <img th:src="${configuration.display?.logo?.uri}" th:alt="${configuration.display?.logo?.altText}" style="max-height:80px;" />
            </div>
            <p><strong>Format:</strong> <span th:text="${configuration.format}">format</span></p>
            <p th:if="${configuration.scope != null}"><strong>Scope:</strong> <span th:text="${configuration.scope}"></span></p>

            <form th:action="@{/credentials/{id}/request(id=${credentialId})}" method="post">
                <button type="submit">Request this credential</button>
            </form>
        </div>

        <div th:if="${configuration == null}">
            <p>No configuration metadata available for this credential.</p>
        </div>

        <div style="margin-top:16px;">
            <h4>Credential schema (preview)</h4>
            <pre th:if="${schema != null}" th:text="${#strings.escapeXml(#json.stringify(schema))}"></pre>
            <p th:if="${schema == null}">No schema available.</p>
        </div>

        <p>This is a placeholder detail page for credential <strong th:text="${credentialId}"></strong>.</p>
        <p>Sample actions:</p>
        <ul>
            <li><a href="#">Request this credential from issuer</a></li>
            <li><a href="#">View credential schema</a></li>
        </ul>
    </div>
</div>
</body>
</html>
